---
import HomeSectionLayout from "../layouts/HomeSectionLayout.astro";


---
<HomeSectionLayout backgroundColor="white" sectionTitle="">
    <div id="main">
        <swiper-container speed="500" grab-cursor="true" navigation="true" breakpoints="{&quot;768&quot;:{&quot;slidesPerView&quot;:2},&quot;1024&quot;:{&quot;slidesPerView&quot;:4}}" pagination="true" autoplay-delay="3500" autoplay-disable-on-interaction="true">
            <swiper-slide>
                <div class="video-container">
                    <video src="/VideoReviews/1711232776480.mp4"></video>
                    <div class="video-overlay"></div>
                </div>
            </swiper-slide>
            <swiper-slide>
                <div class="video-container">
                    <video src="/VideoReviews/1711641148533.mp4"></video>
                    <div class="video-overlay"></div>
                </div>
            </swiper-slide>
            <swiper-slide>
                <div class="video-container">
                    <video src="/VideoReviews/1711641239067.mp4"></video>
                    <div class="video-overlay"></div>
                </div>
            </swiper-slide>
            <swiper-slide>
                <div class="video-container">
                    <video src="/VideoReviews/1711641251238.mp4"></video>
                    <div class="video-overlay"></div>
                </div>
            </swiper-slide>
            <swiper-slide>
                <div class="video-container">
                    <video src="/VideoReviews/1711641262706.mp4"></video>
                    <div class="video-overlay"></div>
                </div>
            </swiper-slide>
            <swiper-slide>
                <div class="video-container">
                    <video src="/VideoReviews/1711641279092.mp4"></video>
                    <div class="video-overlay"></div>
                </div>
            </swiper-slide>
        </swiper-container>
    </div>
</HomeSectionLayout>

<style>
    #main{
        max-width: 1500px;
        margin: 0 auto;
        --swiper-navigation-color: black;
  		--swiper-pagination-color: black;
    }
    video{
        width: 350px;
    }
    .video-container{
        position: relative;
    }
    .video-overlay{
        position: absolute;
        height: 100%;
        width: 350px;
        top: -5px;
    }
    .paused > .video-overlay{
        background-color: rgba(255, 255, 255, 0.212);
        background-image: url("/images/play-button.png");
        background-size: 70px;
        background-repeat: no-repeat;
        background-position: center;
    }
    swiper-slide{
        display: flex;
        justify-content: center;
    }
</style>

<script>
    const videosDiv = document.querySelectorAll(".video-container");
    
    var currentVideoPlaying = null;
    pauseAllVidoes();
    videosDiv.forEach((videoContainer,i) => {
        videoContainer.addEventListener("click", (arg) => {
            const containerVideo = videoContainer.querySelector("video")
            pauseAllVidoes();
            if(currentVideoPlaying == containerVideo){
                containerVideo.pause();
                currentVideoPlaying = null;
            }else{
                currentVideoPlaying = containerVideo;
                videoContainer.classList.remove("paused")
                containerVideo.play();
            }
        })
    })

    function pauseAllVidoes(){
        videosDiv.forEach((videoContainer,i) => {
            const containerVideo = videoContainer.querySelector("video")
            videoContainer.classList.add("paused")
            containerVideo.pause();
        })
    }
</script>